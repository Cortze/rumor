BeaconBlock="/eth2/e7a75d5a/beacon_block/ssz_snappy"
BeaconAggregateProof="/eth2/e7a75d5a/beacon_aggregate_and_proof/ssz_snappy"
VoluntaryExit="/eth2/e7a75d5a/voluntary_exit/ssz_snappy"
ProposerSlashing="/eth2/e7a75d5a/proposer_slashing/ssz_snappy"
AttesterSlashing="/eth2/e7a75d5a/attester_slashing/ssz_snappy"

mikel: host start 
mikel: host listen --ip="127.0.0.1" --tcp=9010

mikel_addr=$__addr

mikel: gossip start
mikel: gossip join --topic="$BeaconBlock"
mikel: gossip events --topic="$BeaconBlock"
mikel: gossip log --topic="$BeaconBlock"

mikel: gossip join --topic="$BeaconAggregateProof"
mikel: gossip events --topic="$BeaconAggregateProof"
mikel: gossip log --topic="$BeaconAggregateProof"
echo "Mikel finished"


josu: host start 
josu: host listen --ip="127.0.0.1" --tcp=9011

josu_addr=$__addr

josu: gossip start
josu: gossip join --topic="$BeaconBlock"
josu: gossip join --topic="$BeaconAggregateProof"
echo "Josu finished"


alice: host start 
alice: host listen --ip="127.0.0.1" --tcp=9012

alice_addr=$__addr

alice: gossip start
alice: gossip join --topic="$BeaconBlock"
alice: gossip join --topic="$BeaconAggregateProof"
echo "Alice finished"

echo "Mikel: Peering with josu and alice"
mikel: peerstore create
mikel: peer connect $josu_addr
mikel: peer connect $alice_addr

sleep 1s
echo "Sending Messages"

josu: gossip publish --topic="$BeaconBlock" --message="73696D706C652074657374"

sleep 1s

alice: gossip publish --topic="$BeaconBlock" --message="73696D706C6520746573742031"

sleep 1s

josu: gossip publish --topic="$BeaconBlock" --message="73696D706C6520746573742032"

sleep 1s

alice: gossip publish --topic="$BeaconBlock" --message="73696D706C6520746573742033"

sleep 1s

alice: gossip publish --topic="$BeaconBlock" --message="73696D706C6520746573742034"

sleep 1s

josu: gossip publish --topic="$BeaconAggregateProof" --message="73696D706C652074657375"

sleep 1s

alice: gossip publish --topic="$BeaconAggregateProof" --message="73696D706C6520746573742035"

sleep 1s

josu: gossip publish --topic="$BeaconAggregateProof" --message="73696D706C6520746573742036"

sleep 1s

alice: gossip publish --topic="$BeaconAggregateProof" --message="73696D706C6520746573742037"

sleep 1s

alice: gossip publish --topic="$BeaconAggregateProof" --message="73696D706C6520746573742038"

sleep 1s